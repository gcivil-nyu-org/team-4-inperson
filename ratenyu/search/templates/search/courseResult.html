{% extends 'base.html' %}

{% block content %}
{% if courses %}
<div class="detail-title">
    <h1 class="detail-name">Course Results for '{{query}}'</h1>
</div>

<ul class="result-side-links">
    <li class="result-side-links"><span class="rev-title">Program</span></li>

    <label class="container">Undergraduate
        <input id="UY" type="checkbox" checked="checked" onclick="resultCheckBoxClicked()">
        <span class="checkmark"></span>
    </label>

    <label class="container">Graduate
        <input id="GY" type="checkbox" checked="checked" onclick="resultCheckBoxClicked()">
        <span class="checkmark"></span>
    </label>

    <!-- <li class="result-side-links"><span class="rev-title">Department</span></li>
    <div class="result-dropdown">
        <form class="search"  method="GET" action="">
            <select class="dropdown" id="detail-dropdown">
                <option value="RevDateDesc">CS</option>
                <option value="RevDateDesc">CE</option>
                <option value="RevDateDesc">MAT</option>
                <option value="RevDateDesc">EE</option>
            </select>
        </form>
    </div> -->

    <li class="result-side-links"><span class="rev-title">Last Offered</span></li>

    <label class="container">2022
        <input id="2022" type="checkbox" checked="checked" onclick="resultCheckBoxClicked()">
        <span class="checkmark"></span>
    </label>
    <label class="container">2021
        <input id="2021" type="checkbox" checked="checked" onclick="resultCheckBoxClicked()">
        <span class="checkmark"></span>
    </label>
</ul>

{% for course in page_obj %}

<div class="detail-sub-course-desc" data-level="{{ course.course_obj.course_subject_code  }}" data-offered="{{  course.last_offered }}">
    <p style="margin-bottom:0;"> <a href=/courses/{{course.course_obj.course_id}}>{{course.course_obj.course_title}}: {{ course.course_obj.course_subject_code }} {{ course.course_obj.catalog_number }}</a> ({{course.reviews_avg}}/5.0 | {{course.reviews_list|length}} Reviews)</p>
    <p style="margin : 0; padding-top:0;">{{ course.course_obj.course_description }} </p>
    <br>
</div>

{% endfor %}

<div class="pagination">
    <span class="step-links">
        {% if page_obj.has_previous %}
            <a href="?search_by=CourseName&query={{query}}&page=1">&laquo; first</a>
            <a href="?search_by=CourseName&query={{query}}&page={{ page_obj.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
        </span>

        {% if page_obj.has_next %}
            <a href="?search_by=CourseName&query={{query}}&page={{ page_obj.next_page_number }}">next</a>
            <a href="?search_by=CourseName&query={{query}}&page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
        {% endif %}
    </span>
</div>

{% else %}

<div class="detail-title">
    <h1 class="detail-name">No Results Found for '{{query}}'</h1>
</div>

{% endif %}
{% endblock %}
